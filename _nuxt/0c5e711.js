/*! For license information please see LICENSES */
(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{227:function(e,t,n){var r=n(5),o=n(19),c=n(165),f=n(7),l=n(9),d=n(39),h=n(253),y=n(4),m=o("Reflect","construct"),v=y((function(){function e(){}return!(m((function(){}),[],e)instanceof e)})),w=!y((function(){m((function(){}))})),O=v||w;r({target:"Reflect",stat:!0,forced:O,sham:O},{construct:function(e,t){c(e),f(t);var n=arguments.length<3?e:c(arguments[2]);if(w&&!v)return m(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var r=[null];return r.push.apply(r,t),new(h.apply(e,r))}var o=n.prototype,y=d(l(o)?o:Object.prototype),O=Function.apply.call(e,y,t);return l(O)?O:y}})},228:function(e,t,n){"use strict";function r(e){return r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},r(e)}n.d(t,"a",(function(){return r}))},230:function(e,t,n){"use strict";n.d(t,"a",(function(){return k})),n.d(t,"c",(function(){return r.a})),n.d(t,"b",(function(){return C})),n.d(t,"d",(function(){return R}));var r=n(0);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e){return function(e){if(Array.isArray(e)){for(var i=0,t=new Array(e.length);i<e.length;i++)t[i]=e[i];return t}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function l(){return"undefined"!=typeof Reflect&&Reflect.defineMetadata&&Reflect.getOwnMetadataKeys}function d(e,t){h(e,t),Object.getOwnPropertyNames(t.prototype).forEach((function(n){h(e.prototype,t.prototype,n)})),Object.getOwnPropertyNames(t).forEach((function(n){h(e,t,n)}))}function h(e,t,n){(n?Reflect.getOwnMetadataKeys(t,n):Reflect.getOwnMetadataKeys(t)).forEach((function(r){var o=n?Reflect.getOwnMetadata(r,t,n):Reflect.getOwnMetadata(r,t);n?Reflect.defineMetadata(r,o,e,n):Reflect.defineMetadata(r,o,e)}))}var y={__proto__:[]}instanceof Array;function m(e){return function(t,n,r){var o="function"==typeof t?t:t.constructor;o.__decorators__||(o.__decorators__=[]),"number"!=typeof r&&(r=void 0),o.__decorators__.push((function(t){return e(t,n,r)}))}}function v(e,t){var n=t.prototype._init;t.prototype._init=function(){var t=this,n=Object.getOwnPropertyNames(e);if(e.$options.props)for(var r in e.$options.props)e.hasOwnProperty(r)||n.push(r);n.forEach((function(n){Object.defineProperty(t,n,{get:function(){return e[n]},set:function(t){e[n]=t},configurable:!0})}))};var data=new t;t.prototype._init=n;var r={};return Object.keys(data).forEach((function(e){void 0!==data[e]&&(r[e]=data[e])})),r}var w=["data","beforeCreate","created","beforeMount","mounted","beforeDestroy","destroyed","beforeUpdate","updated","activated","deactivated","render","errorCaptured","serverPrefetch"];function O(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.name=t.name||e._componentTag||e.name;var n=e.prototype;Object.getOwnPropertyNames(n).forEach((function(e){if("constructor"!==e)if(w.indexOf(e)>-1)t[e]=n[e];else{var r=Object.getOwnPropertyDescriptor(n,e);void 0!==r.value?"function"==typeof r.value?(t.methods||(t.methods={}))[e]=r.value:(t.mixins||(t.mixins=[])).push({data:function(){return c({},e,r.value)}}):(r.get||r.set)&&((t.computed||(t.computed={}))[e]={get:r.get,set:r.set})}})),(t.mixins||(t.mixins=[])).push({data:function(){return v(this,e)}});var o=e.__decorators__;o&&(o.forEach((function(e){return e(t)})),delete e.__decorators__);var f=Object.getPrototypeOf(e.prototype),h=f instanceof r.a?f.constructor:r.a,y=h.extend(t);return _(y,e,h),l()&&d(y,e),y}var j={prototype:!0,arguments:!0,callee:!0,caller:!0};function _(e,t,n){Object.getOwnPropertyNames(t).forEach((function(r){if(!j[r]){var c=Object.getOwnPropertyDescriptor(e,r);if(!c||c.configurable){var f,l,d=Object.getOwnPropertyDescriptor(t,r);if(!y){if("cid"===r)return;var h=Object.getOwnPropertyDescriptor(n,r);if(f=d.value,l=o(f),null!=f&&("object"===l||"function"===l)&&h&&h.value===d.value)return}0,Object.defineProperty(e,r,d)}}}))}function x(e){return"function"==typeof e?O(e):function(t){return O(t,e)}}x.registerHooks=function(e){w.push.apply(w,f(e))};var k=x;var P="undefined"!=typeof Reflect&&void 0!==Reflect.getMetadata;function M(e,t,n){if(P&&!Array.isArray(e)&&"function"!=typeof e&&!e.hasOwnProperty("type")&&void 0===e.type){var r=Reflect.getMetadata("design:type",t,n);r!==Object&&(e.type=r)}}function C(e){return void 0===e&&(e={}),function(t,n){M(e,t,n),m((function(t,n){(t.props||(t.props={}))[n]=e}))(t,n)}}function R(path,e){void 0===e&&(e={});var t=e.deep,n=void 0!==t&&t,r=e.immediate,o=void 0!==r&&r;return m((function(e,t){"object"!=typeof e.watch&&(e.watch=Object.create(null));var r=e.watch;"object"!=typeof r[path]||Array.isArray(r[path])?void 0===r[path]&&(r[path]=[]):r[path]=[r[path]],r[path].push({handler:t,deep:n,immediate:o})}))}},231:function(e,t,n){"use strict";function r(e,p){return r=Object.setPrototypeOf||function(e,p){return e.__proto__=p,e},r(e,p)}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}n.d(t,"a",(function(){return o}))},232:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(254),o=n.n(r);function c(e,t){if(t&&("object"===o()(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}},245:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=new(n(0).a)},253:function(e,t,n){"use strict";var r=n(50),o=n(9),c=[].slice,f={},l=function(e,t,n){if(!(t in f)){for(var r=[],i=0;i<t;i++)r[i]="a["+i+"]";f[t]=Function("C,a","return new C("+r.join(",")+")")}return f[t](e,n)};e.exports=Function.bind||function(e){var t=r(this),n=c.call(arguments,1),f=function(){var r=n.concat(c.call(arguments));return this instanceof f?l(t,r.length,r):t.apply(e,r)};return o(t.prototype)&&(f.prototype=t.prototype),f}},254:function(e,t){function n(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?(e.exports=n=function(e){return typeof e},e.exports.default=e.exports,e.exports.__esModule=!0):(e.exports=n=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.default=e.exports,e.exports.__esModule=!0),n(t)}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},297:function(e,t,n){var content=n(340);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(49).default)("777ef4c0",content,!0,{sourceMap:!1})},339:function(e,t,n){"use strict";n(297)},340:function(e,t,n){var r=n(48)(!1);r.push([e.i,"#inspector-host,#scene-explorer-host{z-index:999;height:100%}#inspector-host .label,#inspector-host .title,#scene-explorer-host .label,#scene-explorer-host .title{font-size:inherit;color:inherit;font-style:inherit;font-weight:inherit;margin-bottom:0}",""]),e.exports=r},381:function(e,t,n){"use strict";n.r(t);n(227);var r=n(8),o=n(121),c=n(122),f=n(231),l=n(232),d=n(228),h=n(26),y=(n(51),n(65),n(38),n(41),n(68),n(69),n(31),n(296),n(230)),m=n(284),v=n(323),w=(n(390),n(283)),O=n(243),j=180/Math.PI,_=Math.PI/180,x=function(){function e(canvas){Object(o.a)(this,e),this.settings={debugLayer:!1,fov:1,brightness:1},this.canvas=canvas,this.engine=new m.Engine(canvas,!0),this.engine.setHardwareScalingLevel(1/window.devicePixelRatio),this.scene=new m.Scene(this.engine),this.scene.clearColor=new m.Color4(0,0,0,0),this.camera=new m.ArcRotateCamera("camera1",0,0,1,new m.Vector3(0,3,-10),this.scene),this.camera.setTarget(new m.Vector3(0,.3,0)),this.camera.alpha=3,this.camera.attachControl(this.canvas,!0),this.camera.radius=1,this.camera.wheelPrecision=50,this.camera.panningSensibility=1e3,this.camera.minZ=.1,this.camera.fov=this.settings.fov,this.camera.upperBetaLimit=.8*Math.PI,this.light=new m.HemisphericLight("light1",new m.Vector3(0,1,0),this.scene),this.light.intensity=this.settings.brightness,this.GUI=v.AdvancedDynamicTexture.CreateFullscreenUI("UI",!0,this.scene),this.settings.debugLayer&&this.scene.debugLayer.show()}return Object(c.a)(e,[{key:"handleImmersivePicking",value:function(e,t,n){var r=this;this.scene.onPointerDown=function(o,c){c&&c.pickedMesh&&(e?e():console.log("picked a mesh :",c.pickedMesh.name));var f=r.scene.pickSprite(r.scene.pointerX,r.scene.pointerY);f&&f.hit&&f.pickedSprite&&(t?t(f.pickedSprite):console.log("picked a sprite :",f.pickedSprite.name)),(!f||!f.hit||c&&c.pickedMesh)&&n&&n()}}},{key:"worldToScreenCoordinates",value:function(e){var t=this.scene.cameras[0],n=m.Vector3.Project(e,m.Matrix.Identity(),this.scene.getTransformMatrix(),t.viewport.toGlobal(this.canvas.clientWidth,this.canvas.clientHeight));return new m.Vector2(n.x,n.y)}},{key:"angleBetweenTwoVectors",value:function(e,t){var n=m.Vector3.Normalize(e),r=m.Vector3.Normalize(t),o=m.Vector3.Dot(r,n),c=Math.acos(o);return this.radiansToDegrees(c)}},{key:"generate3DPosition",value:function(e,t){var n=j*(e.x/t),r=j*(2*Math.atan(Math.exp(e.y/t))-Math.PI/2),o=new m.Vector3(0,0,t),c=r*_,f=(270-n)*_,l=m.Vector3.Zero(),d=m.Quaternion.FromEulerAngles(c,f,0);return o.rotateByQuaternionToRef(d,l)}},{key:"radiansToDegrees",value:function(e){return e*(180/Math.PI)}},{key:"degreesToRadians",value:function(e){return e/(180/Math.PI)}}]),e}(),k=n(245);function P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(d.a)(e);if(t){var o=Object(d.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(l.a)(this,n)}}var M=function(e,t,n,desc){var r,o=arguments.length,c=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(h.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,n,desc);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(c=(o<3?r(c):o>3?r(t,n,c):r(t,n))||c);return o>3&&c&&Object.defineProperty(t,n,c),c},C=function(e){Object(f.a)(d,e);var t,n,l=P(d);function d(){var e;return Object(o.a)(this,d),(e=l.apply(this,arguments)).unpluggedPose={joint_1:.017956436942507398,joint_2:-.9737956905041772,joint_3:-.7701755099417158,joint_4:-.10276360990249185,joint_5:1.6879406729438893,joint_6:-.04612139081680539,head:{equipment:null}},e.openingHand=0,e}return Object(c.a)(d,[{key:"mounted",value:(n=Object(r.a)(regeneratorRuntime.mark((function e(){var canvas,t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return canvas=this.$refs.renderCanvas,this.BC=new x(canvas),this.BC.engine.displayLoadingUI(),e.next=5,this.initScene();case 5:this.updateEquipment(),this.BC.engine.hideLoadingUI(),new ResizeObserver((function(){t.BC.engine.resize()})).observe(this.$refs.renderCanvas),this.BC.engine.runRenderLoop((function(){t.BC.scene.render()})),this.initTaskListener();case 11:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"initTaskListener",value:function(){var e=this;k.a.$on("doTask",(function(t){switch(t.name.toLowerCase()){case"open":w.a.to(e,{duration:2,openingHand:1,ease:O.b.easeNone});break;case"close":w.a.to(e,{duration:2,openingHand:0,ease:O.b.easeNone})}}))}},{key:"setCameraControl",value:function(){this.clickedStop?this.BC.camera.detachControl():this.BC.camera.attachControl(this.BC.canvas)}},{key:"updateEquipment",value:function(){var e=this.BC.scene;if(this.hand=e.getTransformNodeByName("hand_base"),this.hand&&this.hand.setEnabled(!1),this.equipped&&"hand"===this.equipped.name.toLowerCase())this.hand.setEnabled(!0)}},{key:"initScene",value:(t=Object(r.a)(regeneratorRuntime.mark((function e(){var t,n,r,o,c,f,l,d,h,y,head,v=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=this.BC.scene).createDefaultEnvironment(),t.getMeshByName("BackgroundPlane").dispose(),n=t.getMeshByName("BackgroundSkybox"),(r=new m.BackgroundMaterial("customSkybox",t)).reflectionTexture=new m.CubeTexture("https://raw.githubusercontent.com/Faber-smythe/magic-reflect/master/environment.env",t),r.reflectionTexture.coordinatesMode=m.Texture.SKYBOX_MODE,r.reflectionBlur=.15,n.material=r,e.next=11,m.SceneLoader.ImportMeshAsync("","/","xarm-6.glb",t);case 11:return o=t.meshes.filter((function(e){return e.name.includes("_primitive1")&&!e.name.includes("Link6_primitive1")||e.name.includes("Link6_primitive0")})),e.next=14,m.NodeMaterial.ParseFromSnippetAsync("GPY7R7#10",t);case 14:c=e.sent,o.forEach((function(e){e.material=c})),f=t.getTransformNodeByName("Link1"),l=t.getTransformNodeByName("Link2"),d=t.getTransformNodeByName("Link3"),h=t.getTransformNodeByName("Link4"),y=t.getTransformNodeByName("Link5"),head=t.getTransformNodeByName("Link6"),t.registerBeforeRender((function(){v.watching&&(f&&(f.rotation=new m.Vector3(0,v.pose.joint_1,0)),l&&(l.rotation=new m.Vector3(-v.pose.joint_2-Math.PI/2,-Math.PI/2,Math.PI/2)),d&&(d.rotation=new m.Vector3(0,v.pose.joint_3,0)),h&&(h.rotation=new m.Vector3(-v.pose.joint_4-Math.PI/2,-Math.PI/2,Math.PI/2)),y&&(y.rotation=new m.Vector3(v.pose.joint_5+Math.PI/2,-Math.PI/2,-Math.PI/2)),head&&(head.rotation=new m.Vector3(-v.pose.joint_6-Math.PI/2,-Math.PI/2,Math.PI/2))),t.animationGroups.forEach((function(e){e.play(),e.goToFrame(v.openingHand*e.to),e.pause()}))}));case 23:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"displaySlider",value:function(){var e=this,t=-42,n=54,r=43,o=180,c=-42,f=12,l=v.AdvancedDynamicTexture.CreateFullscreenUI("Rotations UI"),d=new v.StackPanel;d.width="220px",d.horizontalAlignment=v.Control.HORIZONTAL_ALIGNMENT_RIGHT,d.verticalAlignment=v.Control.VERTICAL_ALIGNMENT_CENTER,l.addControl(d);var h=function(title,e,t,n,r,o){var label=new v.TextBlock;label.text=title+" : "+(0).toFixed(1)+o,label.height="30px",label.color="white",d.addControl(label);var c=new v.Slider;c.minimum=n,c.maximum=r,c.value=e,c.height="20px",c.width="200px",c.onValueChangedObservable.add((function(e){label.text=title+" : "+e.toFixed(1)+o,t(e)})),d.addControl(c)};h("Link1 rotation",t,(function(e){t=e}),-180,180,"°"),h("Link2 rotation",n,(function(e){n=e}),-180,180,"°"),h("Link3 rotation",r,(function(e){r=e}),-180,180,"°"),h("Link4 rotation",o,(function(e){o=e}),-180,180,"°"),h("Link5 rotation",c,(function(e){c=e}),-180,180,"°"),h("Head rotation",f,(function(e){f=e}),-180,180,"°"),h("Hand opening",58.5,(function(t){e.openingHand=t}),0,85," mm")}}]),d}(y.c);M([Object(y.b)({type:Object,required:!0})],C.prototype,"pose",void 0),M([Object(y.b)({type:Boolean,required:!0})],C.prototype,"watching",void 0),M([Object(y.b)({type:Boolean,required:!0})],C.prototype,"clickedStop",void 0),M([Object(y.b)({type:Object,required:!1})],C.prototype,"equipped",void 0),M([Object(y.d)("clickedStop")],C.prototype,"setCameraControl",null),M([Object(y.d)("equipped")],C.prototype,"updateEquipment",null);var R=C=M([y.a],C),T=(n(339),n(37)),component=Object(T.a)(R,(function(){var e=this.$createElement;return(this._self._c||e)("canvas",{ref:"renderCanvas",attrs:{id:"renderCanvas"}})}),[],!1,null,null,null);t.default=component.exports}}]);